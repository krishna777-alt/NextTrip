<script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
<div class="grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-3 gap-6">
  <% viewAllHotels.forEach(hotel => { %>
  <div
    class="bg-white rounded-2xl shadow-sm hover:shadow-lg transition overflow-hidden group"
  >
    <!-- Image -->
    <div class="relative h-48 overflow-hidden">
      <img
        src="/uploads/hotels/<%= hotel.image %>"
        alt="<%= hotel.name %>"
        class="w-full h-full object-cover group-hover:scale-105 transition duration-500"
      />

      <!-- Approval Badge -->
      <% if(hotel.isApproved){ %>
      <span
        class="absolute top-3 left-3 bg-emerald-600 text-white text-xs px-3 py-1 rounded-full"
      >
        Approved
      </span>
      <% } else { %>
      <span
        class="absolute top-3 left-3 bg-amber-500 text-white text-xs px-3 py-1 rounded-full"
      >
        Pending
      </span>
      <% } %>
    </div>

    <!-- Content -->
    <div class="p-5 space-y-3">
      <div class="flex justify-between items-start">
        <h3 class="text-lg font-semibold text-gray-800 truncate">
          <%= hotel.name %>
        </h3>

        <span class="text-sm text-indigo-600 font-medium">
          ‚Çπ<%= hotel.price %>/night
        </span>
      </div>

      <p class="text-sm text-gray-500 line-clamp-2"><%= hotel.description %></p>

      <!-- Meta -->
      <div class="flex flex-wrap gap-4 text-xs text-gray-500">
        <span>üìç <%= hotel.place %>, <%= hotel.state %></span>
        <span>‚≠ê <%= hotel.rating %></span>
        <span>üõè <%= hotel.totalRooms %> rooms</span>
      </div>

      <!-- Amenities -->
      <% if(hotel.amenities.length){ %>
      <div class="flex flex-wrap gap-2 pt-1">
        <% hotel.amenities.slice(0,3).forEach(a => { %>
        <span class="bg-gray-100 text-gray-600 text-xs px-3 py-1 rounded-full">
          <%= a %>
        </span>
        <% }) %> <% if(hotel.amenities.length > 3){ %>
        <span class="text-xs text-gray-400">
          +<%= hotel.amenities.length - 3 %> more
        </span>
        <% } %>
      </div>
      <% } %>

      <!-- Actions -->
      <div class="flex items-center justify-between pt-4 border-t">
        <a
          href="/admin/currentHotel/<%= hotel._id %>"
          class="text-sm text-indigo-600 hover:underline"
        >
          View
        </a>

        <div class="flex gap-3">
          <!-- <a
            href="/admin/hotels/edit/"
            class="text-sm text-amber-600 hover:underline"
          >
            Edit
          </a> -->

          <% if(!hotel.isApproved){ %>
          <form action="/admin/hotels/approve/<%= hotel._id %>" method="POST">
            <button class="text-sm text-emerald-600 hover:underline">
              Approve
            </button>
          </form>
          <% } %>

          <form
            action="/admin/hotels/delete/<%= hotel._id %>"
            method="POST"
            onsubmit="return confirm('Delete this hotel?')"
          >
            <!-- <button class="text-sm text-red-600 hover:underline">Delete</button> -->
          </form>
        </div>
      </div>
    </div>
  </div>
  <% }) %>
</div>

<% if(viewAllHotels.length === 0){ %>
<div class="bg-white rounded-2xl p-12 text-center shadow-sm">
  <div class="text-5xl mb-4">üè®</div>
  <h2 class="text-xl font-semibold text-gray-800">No hotels found</h2>
  <p class="text-gray-500 mt-2 mb-6">
    Hotels added by managers will appear here
  </p>

  <!-- <a
    href="/admin/hotels/new"
    class="inline-flex items-center gap-2 bg-indigo-600 hover:bg-indigo-700 text-white px-6 py-2.5 rounded-lg transition"
  >
    ‚ûï Add Hotel
  </a> -->
</div>
<% } %>
