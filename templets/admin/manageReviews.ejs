<div class="flex items-center justify-between mb-6">
  <div>
    <h1 class="text-2xl font-semibold text-gray-800">Manage Reviews</h1>
    <p class="text-sm text-gray-500">Moderate and manage user hotel reviews</p>
  </div>

  <div class="bg-white px-4 py-2 rounded-lg shadow-sm text-sm text-gray-600">
    Total Reviews:
    <span class="font-semibold text-gray-800"><%= reviews.length %></span>
  </div>
</div>

<div class="space-y-6">
  <% reviews.forEach(review => { %>
  <div class="bg-white rounded-2xl shadow-sm hover:shadow-md transition p-6">
    <!-- Top Row -->
    <div class="flex items-start justify-between">
      <!-- User + Hotel -->
      <div class="space-y-1">
        <p class="text-sm text-gray-500">User</p>
        <p class="font-medium text-gray-800">
          <%= review.userID?.name || "Guest User" %>
        </p>
        <p class="text-xs text-gray-400">
          <%= review.userID?.email || "No email" %>
        </p>
      </div>

      <div class="space-y-1 text-right">
        <p class="text-sm text-gray-500">Hotel</p>
        <p class="font-medium text-gray-800">
          <%= review.hotelID?.name || "Unknown Hotel" %>
        </p>
        <p class="text-xs text-gray-400">
          <%= review.createdAt.toDateString() %>
        </p>
      </div>
    </div>

    <!-- Rating -->
    <div class="flex items-center gap-2 mt-4">
      <% for(let i=1;i<=5;i++){ %> <% if(i <= Math.round(review.rating)){ %>
      <span class="text-yellow-400 text-lg">★</span>
      <% } else { %>
      <span class="text-gray-300 text-lg">★</span>
      <% } %> <% } %>

      <span class="text-sm text-gray-600 ml-2">
        <%= review.rating.toFixed(1) %> / 5
      </span>
    </div>

    <!-- Review Message -->
    <p class="text-gray-700 mt-4 leading-relaxed">
      <%= review.message || "No review message provided." %>
    </p>

    <!-- Actions -->
    <div class="flex items-center justify-between mt-6 pt-4 border-t">
      <div class="flex gap-4">
        <form
          action="/admin/reviews/delete/<%= review._id %>"
          method="POST"
          onsubmit="return confirm('Delete this review?')"
        >
          <button class="text-sm text-red-600 hover:underline">Delete</button>
        </form>
      </div>
    </div>
  </div>
  <% }) %>
</div>

<% if(reviews.length === 0){ %>
<div class="bg-white rounded-2xl p-14 text-center shadow-sm">
  <div class="text-5xl mb-4">⭐</div>
  <h2 class="text-xl font-semibold text-gray-800">No reviews yet</h2>
  <p class="text-gray-500 mt-2">User reviews will appear here once submitted</p>
</div>
<% } %>
